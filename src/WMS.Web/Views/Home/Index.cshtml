@{
    Layout = "_Layout"; // 首页使用完整布局（有左侧菜单）
    ViewData["Title"] = "首页";
    var userMenus = Context.Session.GetString("UserMenus");
    var menuCount = 0;
    if (!string.IsNullOrEmpty(userMenus))
    {
        try
        {
            var menus = System.Text.Json.JsonSerializer.Deserialize<List<WMS.Application.DTOs.MenuDto>>(userMenus);
            menuCount = menus?.Count ?? 0;
        }
        catch { }
    }
}

<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">欢迎使用WMS管理系统</h5>
                @if (menuCount > 0)
                {
                    <p class="card-text">您有 <strong>@menuCount</strong> 个可用菜单，请从左侧菜单选择功能模块。</p>
                }
                else
                {
                    <p class="card-text text-warning">您当前没有可用菜单，请联系管理员分配权限。</p>
                }
            </div>
        </div>
    </div>
</div>

